<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Beerbot Control: gRPC API Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Beerbot Control
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Client software for Beerbot</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_API.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">gRPC API Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md1"></a>
Overview</h2>
<p>This document describes the gRPC API used in the robot system. The API is structured into several services, handling different aspects of robot control, such as movement, navigation, sensor data, and power management.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Proto Files Structure</h2>
<p>The API consists of multiple <code>.proto</code> files:</p><ul>
<li><code>robot.proto</code> - Main file that imports all modules and defines core messages.</li>
<li><code>base.proto</code> - Defines base control messages.</li>
<li><code>drives.proto</code> - Defines drive-related messages.</li>
<li><code>imu.proto</code> - Defines IMU sensor messages.</li>
<li><code>power.proto</code> - Defines power and battery-related messages.</li>
<li><code>map.proto</code> - Defines mapping and occupancy grid messages.</li>
<li><code>navigation.proto</code> - Defines navigation-related messages.</li>
<li><code>credentials.proto</code> - Defines authentication and security messages.</li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
Messages</h2>
<h3><a class="anchor" id="autotoc_md4"></a>
Controls</h3>
<div class="fragment"><div class="line">message Controls {</div>
<div class="line">    message Light {</div>
<div class="line">        uint32 ledLeftPower = 1; // 0 to 255, LED intensity for left side</div>
<div class="line">        uint32 ledRightPower = 2; // 0 to 255, LED intensity for right side</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    message System {</div>
<div class="line">        bool haltFlag = 1; // Flag for shutdown</div>
<div class="line">        bool restartFlag = 2; // Flag for reboot</div>
<div class="line">        string onTime = 3; // Uptime string</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    Drives.CameraServos cameraServos = 1;</div>
<div class="line">    Drives.WheelMotors wheelMotors = 2;</div>
<div class="line">    Drives.HandMotors handMotors = 3;</div>
<div class="line">    Base.BaseControl baseControl = 4;</div>
<div class="line">    Navigation.NavCommandRequest navControl = 5;</div>
<div class="line"> </div>
<div class="line">    Light light = 6;</div>
<div class="line">    System system = 7;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5"></a>
Sensors</h3>
<div class="fragment"><div class="line">message Sensors {</div>
<div class="line">    Drives.WheelEncoders wheelEncoders = 1;</div>
<div class="line">    Drives.HandEncoders handEncoders = 2;</div>
<div class="line">    Base.Odometry odometry = 3;</div>
<div class="line">    Imu.ImuData imuData = 4;</div>
<div class="line">    Power.BatteryState batteryState = 5;</div>
<div class="line">    Navigation.NavCommandResponse navControlStatus = 6;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md6"></a>
Drives</h3>
<div class="fragment"><div class="line">message WheelMotors {</div>
<div class="line">    float leftMotorSpeed = 1;</div>
<div class="line">    float rightMotorSpeed = 2;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">message WheelEncoders {</div>
<div class="line">    int32 leftEncoder = 1;</div>
<div class="line">    int32 rightEncoder = 2;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">message CameraServos {</div>
<div class="line">    float pan = 1;</div>
<div class="line">    float tilt = 2;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">message HandMotors {</div>
<div class="line">    float gripStrength = 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">message HandEncoders {</div>
<div class="line">    float gripPosition = 1;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md7"></a>
Base</h3>
<div class="fragment"><div class="line">message BaseControl {</div>
<div class="line">    float linearVelocity = 1;</div>
<div class="line">    float angularVelocity = 2;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">message Odometry {</div>
<div class="line">    float positionX = 1;</div>
<div class="line">    float positionY = 2;</div>
<div class="line">    float orientation = 3;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md8"></a>
IMU</h3>
<div class="fragment"><div class="line">message ImuData {</div>
<div class="line">    float orientationX = 1;</div>
<div class="line">    float orientationY = 2;</div>
<div class="line">    float orientationZ = 3;</div>
<div class="line">    float orientationW = 4;</div>
<div class="line">    float angularVelocityX = 5;</div>
<div class="line">    float angularVelocityY = 6;</div>
<div class="line">    float angularVelocityZ = 7;</div>
<div class="line">    float linearAccelerationX = 8;</div>
<div class="line">    float linearAccelerationY = 9;</div>
<div class="line">    float linearAccelerationZ = 10;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md9"></a>
Power</h3>
<div class="fragment"><div class="line">message BatteryState {</div>
<div class="line">    float voltage = 1;</div>
<div class="line">    float current = 2;</div>
<div class="line">    float percentage = 3;</div>
<div class="line">    bool charging = 4;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
Navigation</h3>
<div class="fragment"><div class="line">message NavCommandRequest {</div>
<div class="line">    message GoToPose {</div>
<div class="line">        float x = 1;</div>
<div class="line">        float y = 2;</div>
<div class="line">        float orientation = 3;</div>
<div class="line">    }</div>
<div class="line">    GoToPose goToPose = 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">message NavCommandResponse {</div>
<div class="line">    string status = 1;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md11"></a>
Services</h2>
<h3><a class="anchor" id="autotoc_md12"></a>
Robot Control Service</h3>
<div class="fragment"><div class="line">service ServerOnRobot {</div>
<div class="line">    rpc DataExchange (Controls) returns (Sensors);</div>
<div class="line">    rpc DataStreamExchange (stream Controls) returns (stream Sensors);</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li><b>SendNavigationCommand(NavCommandRequest) -&gt; NavCommandResponse</b> - Sends navigation goals to the robot.</li>
</ul>
<h3><a class="anchor" id="autotoc_md13"></a>
Navigation Service</h3>
<div class="fragment"><div class="line">service NavigationService {</div>
<div class="line">    rpc SendNavigationCommand (Navigation.NavCommandRequest) returns (Navigation.NavCommandResponse);</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li><b>SendNavigationCommand(NavCommandRequest) -&gt; NavCommandResponse</b> - Sends navigation goals to the robot.</li>
</ul>
<h3><a class="anchor" id="autotoc_md14"></a>
Mapping Service</h3>
<div class="fragment"><div class="line">service MapService {</div>
<div class="line">    rpc GetMap (map_service.GetMapRequest) returns (map_service.GetMapResponse);</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li><b>GetMap(GetMapRequest) -&gt; GetMapResponse</b> - Retrieves the current map of the environment. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
